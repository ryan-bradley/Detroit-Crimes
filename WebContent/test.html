<!DOCTYPE html>
<html>
<head>
<meta name="viewport"></meta>
<title>CSE891_2 - Google Fusion Tables</title>



<style type="text/css">
html,body,#googft-mapCanvas {
	height: 300px;
	margin: 0;
	padding: 0;
	width: 500px;
}

#chart {
	text-align: center;
	width: 500px;
	padding-top: 10px;
}
</style>


<script type="text/javascript"
	src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
	function initialize() {

		var tableId = '13tw4-LyYLtr8dbqUN8wgPehPZYSFTdy0rgd-heha';
		var locationColumn = 'City Name';

		var isMobile = (navigator.userAgent.toLowerCase().indexOf('android') > -1)
				|| (navigator.userAgent
						.match(/(iPod|iPhone|iPad|BlackBerry|Windows Phone|iemobile)/));
		if (isMobile) {
			var viewport = document.querySelector("meta[name=viewport]");
			viewport.setAttribute('content',
					'initial-scale=1.0, user-scalable=no');
		}
		var mapDiv = document.getElementById('googft-mapCanvas');
		mapDiv.style.width = isMobile ? '100%' : '800px';
		mapDiv.style.height = isMobile ? '100%' : '400px';

		var map = new google.maps.Map(mapDiv, {
			center : new google.maps.LatLng(29.9908540312092,
					-95.53916680413056),
			zoom : 3,
			mapTypeId : google.maps.MapTypeId.ROADMAP
		});

		google.maps.event.addDomListener(document.getElementById('method'),
				'change', function() {

					updateMap(layer, tableId, locationColumn);

				});

		var legend = document.createElement('div');
		legend.id = 'legend';
		var content = [];
		content.push('<h3>*CSE891_Project</h3>');

		content.push('<p><div class="Yanjie Zhao"></div>Yanjie Zhao</p>');
		content
				.push('<p><div class="Mengling Hettinger"></div>Mengling Hettinger</p>');

		legend.innerHTML = content.join('');
		legend.index = 1;
		map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);

		map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document
				.getElementById('googft-legend-open'));
		map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document
				.getElementById('googft-legend'));

		layer = new google.maps.FusionTablesLayer({
			map : map,
			heatmap : {
				enabled : false
			},
			query : {
				select : "col0",
				from : "13tw4-LyYLtr8dbqUN8wgPehPZYSFTdy0rgd-heha",
				where : ""
			},
			options : {
				styleId : 2,
				templateId : 2
			}
		});

		if (isMobile) {
			var legend = document.getElementById('googft-legend');
			var legendOpenButton = document
					.getElementById('googft-legend-open');
			var legendCloseButton = document
					.getElementById('googft-legend-close');
			legend.style.display = 'none';
			legendOpenButton.style.display = 'block';
			legendCloseButton.style.display = 'block';
			legendOpenButton.onclick = function() {
				legend.style.display = 'block';
				legendOpenButton.style.display = 'none';
			}
			legendCloseButton.onclick = function() {
				legend.style.display = 'none';
				legendOpenButton.style.display = 'block';
			}
		}
	}

	function updateMap(layer1, tableId, locationColumn) {
		var method = document.getElementById('method').value;
		if (method == "hc_k=2") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1lRixpDHvigGCUub2D0j7bGlF810POarPWCv0g7G7",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "hc_k=3") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1TT2K9TOHcg0GlDFxwMz9D7oWgwlWIiezR56E0AC9",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "hc_k=4") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "16JhxBETDupQosu0I0pXMH7u94wB5yRV9IAX9meGi",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "hc_k=5") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1PRqcgO9XGE4yL4y18Ej2xJbfkNwJGTekHq1ychlv",
					where : " Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "kmeans_k=3") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1DBeNvB_CrykyFlepAn83mUAnBgCmwKE2l6p4fFKt",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "kmeans_k=4") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1QAzPlwF8zHAyieXJn-oNRjzgAv3D6QcAldm7Inj7",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

		if (method == "kmeans_k=5") {

			layer1.setOptions({
				query : {
					select : locationColumn,
					from : "1g8ZfOYt5wDxi7s0RogHcT8ei0qZi4pVAj2_oYHB8",
					where : "Cluster Method = '" + method + "'"
				}
			});
		}

	}

	google.maps.event.addDomListener(window, 'load', initialize);
</script>
</head>

<body>

	<div id="googft-mapCanvas"></div>
	<label>Cluster Method</label>
	<select id="method">
		<option value="hc_k=2">hc_k=2</option>

		<option value="hc_k=3">hc_k=3</option>

		<option value="hc_k=4">hc_k=4</option>

		<option value="hc_k=5">hc_k=5</option>

		<option value="kmeans_k=3">kmeans_k=3</option>

		<option value="kmeans_k=4">kmeans_k=4</option>

		<option value="kmeans_k=5">kmeans_k=5</option>
	</select>
</body>

</html>

<iframe width="1200" height="300" scrolling="no" frameborder="no"
	src="https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&amp;q=select+col0%2C+col1%2C+col2%2C+col3%2C+col4+from+1G95LMcmT3IpcxD_wEg5qYMNAqabkjBJDgKkg1yZ8+order+by+col0+asc+limit+30&amp;viz=GVIZ&amp;t=COLUMN&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;gco_vAxes=%5B%7B%22title%22%3Anull%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%7D%2C%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%5D&amp;gco_useFirstColumnAsDomain=true&amp;gco_isStacked=false&amp;gco_booleanRole=certainty&amp;gco_hAxis=%7B%22useFormatFromData%22%3Atrue%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22viewWindow%22%3Anull%2C+%22viewWindowMode%22%3Anull%7D&amp;gco_legend=right&amp;gco_title=kmeans_k%3D3+Cluster+1&amp;gco_titleTextStyle=%7B%22color%22%3A%22%23000%22%2C+%22fontSize%22%3A%2214%22%2C+%22bold%22%3Atrue%7D&amp;width=1200&amp;height=300"></iframe>

<iframe width="1200" height="300" scrolling="no" frameborder="no"
	src="https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&amp;q=select+col0%2C+col1%2C+col2%2C+col4%2C+col3%2C+col5%2C+col6+from+1VUz7v4fzMfSeIl-r79T4Gz1KQ8Gbch50kU81cqhH+order+by+col0+asc+limit+18&amp;viz=GVIZ&amp;t=COLUMN&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;gco_vAxes=%5B%7B%22title%22%3Anull%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%7D%2C%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%5D&amp;gco_useFirstColumnAsDomain=true&amp;gco_isStacked=false&amp;gco_booleanRole=certainty&amp;gco_hAxis=%7B%22useFormatFromData%22%3Atrue%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22viewWindow%22%3Anull%2C+%22viewWindowMode%22%3Anull%7D&amp;gco_legend=right&amp;gco_title=kmeans_k%3D3+Cluster+2&amp;gco_titleTextStyle=%7B%22color%22%3A%22%23000%22%2C+%22fontSize%22%3A%2214%22%2C+%22bold%22%3Atrue%7D&amp;width=1200&amp;height=300"></iframe>

<iframe width="1200" height="300" scrolling="no" frameborder="no"
	src="https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&amp;q=select+col0%2C+col1%2C+col2%2C+col3%2C+col4%2C+col5%2C+col6%2C+col7%2C+col8%2C+col9%2C+col10+from+1PYeIn-hc0_susXsKhaB3PcX5kqPGrDMYoN45Z0AE+order+by+col0+asc+limit+13&amp;viz=GVIZ&amp;t=COLUMN&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;gco_vAxes=%5B%7B%22title%22%3Anull%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22logScale%22%3Afalse%7D%2C%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22logScale%22%3Afalse%7D%5D&amp;gco_useFirstColumnAsDomain=true&amp;gco_isStacked=false&amp;gco_booleanRole=certainty&amp;gco_hAxis=%7B%22useFormatFromData%22%3Atrue%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%2C+%22viewWindow%22%3Anull%2C+%22viewWindowMode%22%3Anull%7D&amp;gco_legend=right&amp;gco_title=kmeans_k%3D3+Cluster+3&amp;gco_titleTextStyle=%7B%22color%22%3A%22%23000000%22%2C+%22fontSize%22%3A%2214%22%2C+%22bold%22%3Atrue%2C+%22italic%22%3Afalse%7D&amp;gco_fontName=Arial&amp;att=true&amp;width=1200&amp;height=300"></iframe>

